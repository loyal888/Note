# é¡¶çº§æ¥å£ï¼šMap & Collection
## Map
mapåˆ†ä¸ºæ— åºå’Œæœ‰åºä¸¤ç§
### æ— åºMap
#### HashMap
![](../../../image/0b50e921.png)

* æºç åˆ†æ
-  https://juejin.im/post/6844903799748821000
-  https://segmentfault.com/a/1190000015812438
-  https://andihappy.github.io/2019/08/03/hashmap/

#### LinkedHashMap
![](../../../image/ac9d1a12.png)

![](https://images2015.cnblogs.com/blog/939998/201605/939998-20160528192537725-909052596.png)

- æºç åˆ†æ

[LinkedHashMapç»“æ„åˆ†æ](https://www.bookstack.cn/read/jdk_source_learning/src-LinkedHashMap.md)

#### WeakHashMap
![](../../../image/d4583985.png)

[ä¸ºä»€ä¹ˆWeakHashMapå¯ä»¥è¢«å›æ”¶ï¼Ÿ](http://ifeve.com/java-reference%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/)
#### HashTable
![](../../../image/2245e6a9.png)

- åˆå§‹å®¹é‡ï¼š11ï¼Œè´Ÿè½½å› å­.75

- å®ç°æ–¹å¼ï¼šæ•°ç»„åŠ é“¾è¡¨

- æ‰©å®¹æ–¹å¼ï¼š `int newCapacity = (oldCapacity << 1) + 1;`

- æ•°ç»„ä¸‹æ ‡ï¼š`int index = (e.hash & 0x7FFFFFFF) % newCapacity;`

- hashå†²çªé‡‡ç”¨å¤´æ’æ³•

- åŒæ­¥çš„å®ç°æœºåˆ¶


###æœ‰åºMap
####  TreeMap
![](../../../image/17a8334a.png)
æ•°æ®ç»“æ„ï¼š çº¢é»‘æ ‘ğŸŒ²
[å‚è€ƒèµ„æ–™](https://www.jianshu.com/p/2dcff3634326)

----- 
## Collection
![](../../../image/0cb7b33b.png)
---
### List
#### Vector
![](../../../image/5cea3f52.png)

```java
æ•°æ®ç»“æ„ä¸ºæ•°ç»„ï¼Œæ•°ç»„æ‰©å®¹ä½¿ç”¨Arrays.copyOf(),åˆå§‹å®¹é‡ä¸º10ï¼Œçº¿ç¨‹å®‰å…¨ã€‚
```
##### Stack
![](../../../image/af33b0b1.png)

```java
ç»§æ‰¿è‡ªVecterï¼Œæ·»åŠ äº†å‡ ä¸ªæ–¹æ³•æ¥å®ç°æ ˆçš„ç‰¹æ€§ã€‚
1. pop()ï¼Œè¿”å›å¹¶ç§»é™¤å…ƒç´ ï¼Œè°ƒç”¨ System.arraycopy(elementData, index + 1, elementData, index, j); å®ç°å…ƒç´ å»é™¤ã€‚
2. peek(),è¿”å›å…ƒç´ ä½†ä¸ç§»é™¤
3. push(),åœ¨æ•°ç»„æœ€åæ·»åŠ å…ƒç´ 
```

#### ArrayList
![](../../../image/292fa881.png)

```java
æ•°æ®ç»“æ„ä¸º Object æ•°ç»„ï¼Œåˆå§‹å®¹é‡ä¸º10
```
#### LinkedList
![](../../../image/88c26905.png)

æ•°æ®ç»“æ„ä¸ºï¼š`ç”±NodeèŠ‚ç‚¹ç»„æˆçš„åŒå‘é“¾è¡¨`

-----
### Set
![](../../../image/33e1a829.png)
#### TreeSet

æ•°æ®ç»“æ„ä¸º`TreeMap`ï¼Œä¿è¯äº†å…ƒç´ ä¸é‡å¤ï¼Œè¿™é‡Œå¦‚æœkeyç›¸åŒï¼Œç”±äºvalueä¹Ÿç›¸åŒï¼Œæ‰€ä»¥å…ƒç´ ä¸ä¼šé‡å¤ã€‚

```java
public boolean add(E e) {
        return m.put(e, PRESENT)==null;
    }
```

![](../../../image/945c0430.png)
#### HashSet

æ•°æ®ç»“æ„ä¸º `HashMap`,ä¿é‡å…ƒç´ ä¸ä¼šé‡å¤ã€‚
```java
 public boolean add(E e) {
        return map.put(e, PRESENT)==null;
    }
```
![](../../../image/d4e58f7a.png)
##### LinkedHashSet
![](../../../image/a28ff5f4.png)

æ•°æ®ç»“æ„ä¸ºï¼š`LinkedHashMap`
-----
### Queue
![](../../../image/774c12fa.png)
#### ConcurrentLinkedQueue
![](../../../image/fb5f3bec.png)
#### ArrayBlockingQueue
![](../../../image/dedc4700.png)
#### LinkedBlockingQueue
![](../../../image/c4a834c5.png)

æ•°æ®ç»“æ„ï¼š`å•å‘é“¾è¡¨`,çº¿ç¨‹å®‰å…¨ï¼Œä½¿ç”¨RectangleLockå®ç°,  `LinkedBlockingQueueå¯ä»¥åŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹åœ¨ä¸¤ç«¯æ‰§è¡Œæ“ä½œ`
#### LinkedBlockingDeque
![](../../../image/b25d3116.png)

æ•°æ®ç»“æ„ï¼š`åŒå‘é“¾è¡¨`,`åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥åœ¨é˜Ÿå¤´æˆ–è€…é˜Ÿå°¾æ‰§è¡Œå…¥é˜Ÿæˆ–å‡ºé˜Ÿæ“ä½œ`
